# 记一次 Flash 本地破解

前段时间在逛网站的时候不小心点到了广告链接，打开后是一个视频网站，未付费的情况下给视频加了一层滤镜。

最终通过本地替换 Flash 的方式破解了滤镜的限制。

使用的工具

* JPEXS Free Flash Decompiler
* Charles （ Fiddler 应该也可以）

流程

1. 了解网站。整个页面是用 Flash 编写，多个 swf 模块加载形成。手动下载各个 SWF。
2. SWF 反编译。使用 JPEXS 工具反编译，比较幸运，代码没有被混淆，能很快速的定位到添加滤镜的代码位置。
3. 修改 SWF。修改代码，改变逻辑，得到一个破解后的 SWF
4. 本地替换目标 SWF。使用 Charles 挂代理，浏览器通过代理上网，在目标 SWF 请求上进行 Map Local （映射本地资源）。完成。

